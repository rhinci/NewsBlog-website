<!DOCTYPE html>
{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} base title {% endblock title %}</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/nav.css' %}">
    <link rel="stylesheet" href="{% static 'css/comments.css' %}">
    {% block head %}

    {% endblock head %}
</head>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const btn = document.querySelector('.nav-toggle');
  const nav = document.getElementById('main-nav');
  if (!btn || !nav) return;
  btn.addEventListener('click', function () {
    const shown = nav.classList.toggle('show');
    btn.setAttribute('aria-expanded', shown ? 'true' : 'false');
  });
});
</script>

<body>
    <main class="page-wrap">
    <div class="content">
        <nav>
            <div class="nav-inner">
                <a class="brand" href="{% url 'index' %}">TimeLine</a>
                {% if user.is_authenticated %}
                    <span class="user-hello">Привет, {{ user.username }}!</span>
                {% endif %}
                <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav" aria-label="Открыть меню">☰</button>
            </div>
            
            <ul id="main-nav" class="nav-list">
                <li><a href="{% url 'index' %}">Главная</a></li>
                <li><a href="{% url 'about' %}">О нас</a></li>
                <li><a href="{% url 'contacts' %}">Контакты</a></li>
                <li><a href="{% url 'feedback' %}">Обратная связь</a></li>
                <li class="user-actions">
                    {% if user.is_authenticated %}
                        <a href="{% url 'create_article' %}">Написать статью</a>
                        <a href="{% url 'logout' %}">Выйти</a>
                    {% else %}
                        <a href="{% url 'login' %}">Войти</a>
                        <a href="{% url 'register' %}">Регистрация</a>
                    {% endif %}
                </li>
            </ul>
        </nav>
        {% block body %} 
        {% endblock body %}
    </div>
</main>
</body>
</html>